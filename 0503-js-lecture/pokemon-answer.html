<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="root">
    <div></div>
    <button>A</button>
  </div>
  
  <script>
    // 포켓몬 배열
    const practics = ['피카츄', '라이츄', '파이리', '꼬부기', '버터풀', '야도란', '피죤투', '또가스'];
    // 포켓몬 배열 출력 완료시 실행할 텍스트
    const completeText = '포켓몬을 다 모았다';

    // 변수 root로 #root요소 를 가져온다
    const root = document.getElementById('root');
    // !자식요소를 활요한 변수 선언!
    // 변수 div를 #root의 칠드런 배열 요소[0]번으로 선언해준다
    const div = root.children[0];
    // 변수 div를 #root의 칠드런 배열 요소[1]번으로 선언해준다
    const button = root.children[1];

    // *나눠서 작업할 것
    // *엘리먼트 생성 먼저 하지 않기, 핸들링이 먼저 되는가를 보고 점검하고 새로운 요소로 만들어주기 => 디자인과 같다 

    // 변수 current 선언하고 값을 0으로 할당
    let current = 0;
    // 변수 isEnd의 값을 false로 할당해준다
    // === 끝나지 않았으므로 false 상태이다
    let isEnd = false;
    // button에 이벤트를 생성해준다
    button.addEventListener('click', function(){
      // 만약 변수 current가 배열 practics의 길이보다 작은 게 참이면 
      if(current < practics.length){
        // 변수 makeDiv는 문서에 div 요소를 생성해준다
        const makeDiv = document.createElement('div');
        // 변수 makeDiv의 textContent를 배열 practics의 current번을 값으로 대입한다
        makeDiv.textContent = practics[current];
        // 변수 makeDiv(div요소를 생성해줌)를 div에 자식요소로 추가해주는 메서드(내장함수)를 사용해서 div에 div를 추가해준다
        div.appendChild(makeDiv);
        // 콘솔에 배열 practics의 current번 값을 기록해준다 
        // !콘솔에 배열의 값이 두번 찍히는 이유는 아래와 조건식이 같음
        console.log(practics[current]);
        // current++;
      }

      // 1. 포켓몬 배열을 하나씩 출력해주는 부분
      // 만약 변수 current의 값이 배열 practics의 길이보다 작다는 게 참이면
      if(current < practics.length){
        // 콘솔에 practics 배열에 current 값 번을 기록해준다
        console.log(practics[current]);
        // 그리고 나서 current에 1을 더해준다
        current++;
      }
      // => 이렇게 하면 current를 배열 practics의 인덱스로 적용해주기 때문에 +1씩 더해져서 다음 번의 배열 요소가 출력된다

      // 2. 배열이 모두 출력되고나서 실행될 부분
      // 만약 변수 current의 값이 배열 practics의 길이보다 크다는 게 참이면
      if(current > practics.length){
        // 콘솔에 문자열 hello를 찍어준다
        console.log('hello');
        // 그리고 나서 div의 textContent를 변수 completeText의 값으로 대입해준다
        div.textContent = completeText;
        // 변수 isEnd에 불리언 값 true를 재할당하고
        isEnd = true;
        // 콘솔에 isEnd가 true로 바뀌었다고 기록해준다
        console.log(isEnd+'true로 바뀌었습니다');
      }
      // => !변수로 종료할 때의 텍스트를 입력해두고 값을 대입해주는 부분!, !isEnd라는 변수를 둬서 핸들러를 만들어 줌! 

      // 만약 isEnd가 true와 같다면
      // === 배열이 다 실행되고 나서 끝났다는 멘트가 나가고 나서
      if(isEnd === true){
        // 변수 current의 값을 0으로 재할당해준다
        current = 0;
        // 콘솔에 current의 값이 0으로 바뀌었다고 기록해준다
        console.log(current+'current값이 0으로 바뀌었습니다');
      }
    });

  </script>

</body>
</html>